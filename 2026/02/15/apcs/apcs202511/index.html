<!DOCTYPE html>
<html  lang="zh-TW" >
    <head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, maximum-scale=5, viewport-fit=cover">
    
    <title>
    
    APCS 2025/11 å¯¦ä½œé¡Œé¡Œè§£ â€” C++ | é–è«ºçš„è³‡è¨Šå­¸ç¿’ç­†è¨˜
    </title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Noto Sans TC', sans-serif !important; }
        h1, h2, h3, h4, h5, h6 { font-weight: 700 !important; }
    </style>

    <meta name="description" content="æ­¤ç­†è¨˜ç‚ºAPCS 2025å¹´11æœˆå¯¦ä½œé¡Œè€ƒè©¦çš„é¡Œç›®è©³è§£ã€‚æ¯ä¸€é¡Œçš„é¡Œè§£éƒ½åŒ…å«è§£é¡Œæ€è·¯ã€C++ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="APCS 2025&#x2F;11 å¯¦ä½œé¡Œé¡Œè§£ â€” C++">
<meta property="og:url" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/index.html">
<meta property="og:site_name" content="é–è«ºçš„è³‡è¨Šå­¸ç¿’ç­†è¨˜">
<meta property="og:description" content="æ­¤ç­†è¨˜ç‚ºAPCS 2025å¹´11æœˆå¯¦ä½œé¡Œè€ƒè©¦çš„é¡Œç›®è©³è§£ã€‚æ¯ä¸€é¡Œçš„é¡Œè§£éƒ½åŒ…å«è§£é¡Œæ€è·¯ã€C++ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚">
<meta property="og:locale" content="zh_TW">
<meta property="og:image" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/%E5%9C%96%E7%89%871.png">
<meta property="og:image" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/%E5%9C%96%E7%89%872.png">
<meta property="og:image" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/%E5%9C%96%E7%89%873.png">
<meta property="og:image" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/%E5%9C%96%E7%89%874.png">
<meta property="article:published_time" content="2026-02-15T06:10:45.000Z">
<meta property="article:modified_time" content="2026-02-15T07:04:12.215Z">
<meta property="article:author" content="chingyen06">
<meta property="article:tag" content="APCS">
<meta property="article:tag" content="C++">
<meta property="article:tag" content="ZeroJudge">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/%E5%9C%96%E7%89%871.png">

    
        <link rel="alternate" type="application/atom+xml" href="/atom.xml">
    

    <link rel="icon" href="/images/avatar.png" type="image/x-icon">
    

    
    
<link rel="stylesheet" href="/css/common.min.css?v=1771139057256.css">

    
<link rel="stylesheet" href="/css/iconfont.min.css?v=1771139057256.css">


    
        <script>
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']],
            processEscapes: true
          },
          options: {
            skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
          }
        };
        </script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    
        <link href="//cdn.jsdelivr.net/npm/gitalk@1.4.0/dist/gitalk.min.css" rel="stylesheet">
        <link href="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/css/lightgallery.min.css" rel="stylesheet">
    

    
        <!-- Google tag (gtag.js) -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=G-18D6HBKZSF"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', 'G-18D6HBKZSF');
        </script>
    

    <style>
    /* è®“ç¶²æ ¼å±…ä¸­ä¸¦å¢åŠ ä¸Šä¸‹é–“è· */
    .resource-grid {
        display: grid !important;
        grid-template-columns: repeat(auto-fit, minmax(380px, 1fr)); 
        gap: 35px; /* åŠ å¤§å¡ç‰‡é–“è· */
        margin: 60px auto; /* å¢åŠ ä¸Šä¸‹å¤–é‚Šè·ï¼Œå¡«è£œé é¢ç©ºç™½ */
        max-width: 1100px; 
    }

    /* å¼·åŒ–å¡ç‰‡çš„ç«‹é«”æ„Ÿèˆ‡é«˜åº¦ */
    .resource-card {
        display: flex !important;
        flex-direction: column !important; /* è®“åœ–ç¤ºåœ¨æ¨™é¡Œä¸Šæ–¹ */
        align-items: center;    /* ç½®ä¸­å°é½Š */
        text-align: center;
        padding: 50px 30px;     /* å¤§å¹…å¢åŠ ä¸Šä¸‹ Paddingï¼Œå¼·è¿«æ’é–‹é«˜åº¦ */
        min-height: 280px;      /* è¨­å®šæœ€å°é«˜åº¦ï¼Œç¢ºä¿ä¸‹é¢ä¸ç©º */
        background: #ffffff !important;
        border: 1px solid #e1e4e8 !important;
        border-radius: 24px !important; /* åœ“è§’æ›´åœ“æ½¤æ›´ç¾ä»£ */
        transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
    }

    .resource-card:hover {
        transform: translateY(-12px); /* æ‡¸åœæ™‚æµ®èµ·æ›´é«˜ */
        box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        border-color: #42b983 !important;
    }

    .card-icon {
        font-size: 4rem;        /* æ”¾å¤§åœ–ç¤ºï¼Œè¦–è¦ºé‡å¿ƒæ›´ç©© */
        margin-bottom: 25px;
        margin-right: 0;
    }

    .card-content h3 {
        font-size: 1.5rem !important;
        margin-bottom: 15px !important;
        color: #2c3e50;
    }

    .card-content p {
        font-size: 1.05rem !important;
        color: #586069;
        line-height: 1.6;
    }

    /* --- æ‰‹æ©Ÿç‰ˆé©é…æ–¹æ¡ˆ --- */
    @media (max-width: 600px) {
        .resource-grid {
            /* å¼·åˆ¶å–®æ¬„ï¼Œä¸”ç¸®å°é–“è· */
            grid-template-columns: 1fr !important;
            gap: 20px !important;
            margin: 30px auto !important;
            padding: 0 10px; /* å¢åŠ è¢å¹•å·¦å³é‚Šè· */
        }

        .resource-card {
            padding: 30px 20px !important; /* ç¸®å°å…§é‚Šè· */
            min-height: auto !important;    /* å–æ¶ˆæœ€å°é«˜åº¦é™åˆ¶ï¼Œè®“å®ƒæ ¹æ“šæ–‡å­—ä¼¸ç¸® */
            border-radius: 16px !important; /* ç¨å¾®æ¸›å°åœ“è§’ */
        }

        .card-icon {
            font-size: 2.5rem !important;  /* ç¸®å°åœ–ç¤º */
            margin-bottom: 15px !important;
        }

        .card-content h3 {
            font-size: 1.2rem !important;  /* ç¸®å°æ¨™é¡Œ */
        }

        .card-content p {
            font-size: 0.95rem !important; /* ç¸®å°å…§æ–‡ */
        }
    }
    </style>
    <style>
        /* Study é é¢å°ˆç”¨æ¨£å¼ */
        .study-container { max-width: 900px; margin: 0 auto; }
        .study-section h2 { 
            border-left: 5px solid #42b983; 
            padding-left: 15px; 
            margin: 40px 0 20px; 
            font-size: 1.5rem;
        }

        .study-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 15px;
            border: 1px solid #eef0f2;
            transition: 0.3s;
        }

        .study-item:hover {
            background: #ffffff;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
            border-color: #42b983;
        }

        .item-info h3 { margin: 0 0 8px 0 !important; font-size: 1.2rem; }
        .item-info p { margin: 0 !important; font-size: 0.95rem; color: #666; }

        .item-tags { margin-top: 10px; }
        .item-tags span {
            background: #e1f5fe;
            color: #0288d1;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            margin-right: 8px;
        }

        .item-btn {
            padding: 8px 16px;
            background: #2c3e50;
            color: #fff !important;
            border-radius: 6px;
            text-decoration: none !important;
            font-size: 0.9rem;
            white-space: nowrap;
            margin-left: 20px;
        }

        .item-btn:hover { background: #42b983; }

        /* å­åˆ†é¡æ¨™é¡Œæ¨£å¼ */
        .sub-category-title {
            font-size: 1.1rem !important;
            color: #4a5568;
            margin: 30px 0 15px 5px !important;
            padding-bottom: 8px;
            border-bottom: 1px dashed #e2e8f0; /* åŠ å…¥è™›ç·šå€éš” */
            display: flex;
            align-items: center;
        }

        /* å¯ä»¥åœ¨å­æ¨™é¡Œå‰åŠ å€‹å°åœ“é»è£é£¾ */
        .sub-category-title::before {
            content: "â€¢";
            color: #42b983;
            font-weight: bold;
            display: inline-block; 
            width: 1em;
            margin-left: -0.5em;
        }

        /* æ‰‹æ©Ÿç‰ˆï¼šæŒ‰éˆ•è®Šåˆ°ä¸‹æ–¹ */
        @media (max-width: 600px) {
            .study-item { flex-direction: column; align-items: flex-start; }
            .item-btn { margin: 15px 0 0 0; width: 100%; text-align: center; }
        }
    </style>
    <style>
        .leetcode-filter-container { max-width: 900px; margin: 0 auto; padding: 20px; }
        
        /* çµ±è¨ˆå¡ç‰‡ */
        .leetcode-stats { display: flex; gap: 15px; flex-wrap: wrap; margin-bottom: 25px; }
        .stat-card {
            flex: 1; padding: 20px; border-radius: 12px; text-align: center;
            color: white !important; cursor: pointer; transition: 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .stat-card:hover { transform: translateY(-3px); filter: brightness(1.05); }
        .stat-card h3 { margin: 0 !important; font-size: 1.1rem !important; color: rgba(255,255,255,0.9) !important; font-weight: 500 !important; }
        .stat-card p { margin: 5px 0 0 0 !important; font-size: 2.2rem !important; font-weight: 800 !important; color: #ffffff !important; }

        .easy { background: #00af9b; }
        .medium { background: #ffb800; }
        .hard { background: #ff2d55; }

        /* æœå°‹æ¡† */
        #leetcode-search-input,
        #cpe-search-input,
        #apcs-search-input {
            width: 100%; padding: 12px 18px; border: 2px solid #eef0f2;
            border-radius: 10px; outline: none; font-size: 1rem; margin-bottom: 20px;
        }
        #leetcode-search-input:focus,
        #cpe-search-input:focus,
        #apcs-search-input:focus { border-color: #00af9b; }

        /* è¡¨æ ¼è¨­è¨ˆ */
        .difficulty-section { margin-top: 35px; }
        .table-wrapper { overflow-x: auto; background: #fff; border-radius: 8px; border: 1px solid #eee; }
        table { width: 100%; min-width: 600px; border-collapse: collapse; }
        th { background: #fafafa; padding: 14px; text-align: left; color: #666; border-bottom: 2px solid #f0f0f0; }
        td { padding: 14px; border-bottom: 1px solid #f9f9f9; }

        /* ç§»é™¤æŒ‰éˆ•æ„Ÿï¼Œæ”¹å›ç´”é€£çµ */
        .lc-link { color: #2c3e50 !important; font-weight: 600; text-decoration: none; }
        .lc-link:hover { color: #00af9b !important; text-decoration: underline; }
        
        .sol-link { color: #42b983 !important; font-weight: 500; text-decoration: none; border-bottom: 1px solid transparent; transition: 0.2s; }
        .sol-link:hover { border-bottom: 1px solid #42b983; }

        .note-tag { background: #f0f2f5; color: #666; padding: 3px 10px; border-radius: 4px; font-size: 0.85rem; }

        .stat-btn-all { 
            width: 100%; text-align: center; padding: 12px; background: #f8fafc; 
            border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; margin-top: 10px;
        }
        
        @media (max-width: 600px) {
            .stat-card { flex: 1 1 calc(50% - 10px); }
            th, td { padding: 10px 5px; font-size: 0.85rem; }
        }
    </style>
    <style>
        /* --- CPE å°ˆç”¨æ¨£å¼ --- */
        /* 1. ç¶²æ ¼ä½ˆå±€ï¼šè®“å¡ç‰‡è‡ªå‹•æ›è¡Œï¼Œä¿æŒæ•´é½Š */
        .cpe-grid {
            display: grid !important;
            /* é›»è…¦ç‰ˆï¼šä¸€æ’ 3 å€‹ */
            grid-template-columns: repeat(3, 1fr); 
            gap: 15px;
        }

        /* 2. é¡è‰²å®šç¾© (Heatmap é¢¨æ ¼) */
        .star-1 { background: linear-gradient(135deg, #42b983 0%, #2ecc71 100%); } /* ç¶  */
        .star-2 { background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); } /* è— */
        .star-3 { background: linear-gradient(135deg, #f1c40f 0%, #f39c12 100%); } /* é»ƒ */
        .star-4 { background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); } /* æ©˜ */
        .star-5 { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); } /* ç´… */
        .star-other { background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%); } /* ç° */

        /* 3. è®“ã€Œé¡¯ç¤ºæ‰€æœ‰ã€æŒ‰éˆ•æ©«è·¨æ•´æ’ */
        .full-width {
            grid-column: 1 / -1; /* å¾ç¬¬ä¸€æ¢ç·šè·¨åˆ°æœ€å¾Œä¸€æ¢ç·š */
            width: 100%;
        }

        /* 4. æ‰‹æ©Ÿç‰ˆé©é…ï¼šæ”¹ç‚ºä¸€æ’ 2 å€‹ */
        @media (max-width: 600px) {
            .cpe-grid {
                grid-template-columns: repeat(2, 1fr); /* æ‰‹æ©Ÿè®Šå…©æ¬„ */
            }
        }
    </style>
    <style>
        /* --- HackMD é¢¨æ ¼æç¤ºæ¡† (Alert Blocks) --- */
        .alert-block {
            padding: 15px 20px;
            margin: 20px 0;
            border-left: 5px solid #eee;
            border-radius: 4px;
            position: relative;
            font-size: 1rem;
            line-height: 1.6;
            white-space: pre-wrap;
        }

        /* .alert-block strong {
            display: block;
            margin-bottom: 5px;
            font-weight: 700;
        } */

        .alert-block strong {
            display: inline;     /* æ”¹æˆè¡Œå…§å…ƒç´  */
            font-weight: 700;    /* åªä¿ç•™ç²—é«”æ•ˆæœ */
        }

        /* è—è‰² Info */
        .alert-info {
            background-color: #e7f3f8;
            border-left-color: #31708f;
            color: #31708f;
        }

        /* ç¶ è‰² Success */
        .alert-success {
            background-color: #dff0d8;
            border-left-color: #3c763d;
            color: #3c763d;
        }

        /* é»ƒè‰² Warning */
        .alert-warning {
            background-color: #fcf8e3;
            border-left-color: #8a6d3b;
            color: #8a6d3b;
        }

        /* ç´…è‰² Danger */
        .alert-danger {
            background-color: #f2dede;
            border-left-color: #a94442;
            color: #a94442;
        }

        /* --- åœ–ç‰‡å…¨åŸŸé™åˆ¶ --- */
        .post-content img, .article-entry img {
            max-width: 100%;       /* åœ–ç‰‡æœ€å¤§å¯¬åº¦ä¸è¶…éçˆ¶å®¹å™¨ */
            height: auto;          /* é«˜åº¦è‡ªå‹•ç­‰æ¯”ä¾‹ç¸®æ”¾ */
            display: block;        /* é¿å…åœ–ç‰‡ä¸‹æ–¹å‡ºç¾å¥‡æ€ªçš„ç©ºç™½ */
            margin: 20px auto;     /* åœ–ç‰‡ç½®ä¸­ï¼Œä¸¦å¢åŠ ä¸Šä¸‹é–“è· */
            border-radius: 8px;    /* è®“åœ–ç‰‡æœ‰é»åœ“è§’ï¼Œçœ‹èµ·ä¾†æ¯”è¼ƒç¾ä»£ */
        }
    </style>
    <style>
        /* --- APCS å°ˆç”¨ç¶²æ ¼ä½ˆå±€ (å„€è¡¨æ¿) --- */
        .apcs-grid {
            display: grid !important;
            /* é›»è…¦ç‰ˆï¼šä¸€æ’ 5 å€‹ (åˆç´š/ä¸­ç´š/ä¸­é«˜/é«˜ç´š/N/A) */
            grid-template-columns: repeat(5, 1fr); 
            gap: 12px;
        }

        /* --- ç­‰ç´šé¡è‰²å®šç¾© (ä½¿ç”¨ levelConfig çš„é¡è‰²åšæ¼¸å±¤) --- */
        /* åˆç´š - ç¶ è‰² (#42b983) */
        .apcs-level-1 { background: linear-gradient(135deg, #42b983 0%, #2ecc71 100%); }
        /* ä¸­ç´š - è—è‰² (#3498db) */
        .apcs-level-2 { background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); }
        /* ä¸­é«˜ç´š - æ©˜è‰² (#e67e22) */
        .apcs-level-3 { background: linear-gradient(135deg, #e67e22 0%, #d35400 100%); }
        /* é«˜ç´š - ç´…è‰² (#e74c3c) */
        .apcs-level-4 { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); }
        /* ç„¡ç­‰ç´š - ç°è‰² (#95a5a6) */
        .apcs-level-na { background: linear-gradient(135deg, #95a5a6 0%, #7f8c8d 100%); }
        
        /* çµ±è¨ˆå¡ç‰‡é€šç”¨æ¨£å¼ */
        .stat-card {
            flex: 1; 
            padding: 15px 10px; /* ç¨å¾®ç¸®å°å…§è·ä»¥å®¹ç´5å€‹ */
            border-radius: 12px; 
            text-align: center;
            color: white !important; 
            cursor: pointer; 
            transition: 0.3s ease;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }
        .stat-card:hover { 
            transform: translateY(-3px); 
            filter: brightness(1.05); 
        }
        .stat-card h3 { 
            margin: 0 !important; 
            font-size: 1rem !important; 
            color: rgba(255,255,255,0.95) !important; 
            font-weight: 500 !important; 
        }
        .stat-card p { 
            margin: 5px 0 0 0 !important; 
            font-size: 1.8rem !important; 
            font-weight: 800 !important; 
            color: #ffffff !important; 
        }

        /* è®“ã€Œé¡¯ç¤ºæ‰€æœ‰ã€æŒ‰éˆ•æ©«è·¨æ•´æ’ */
        .full-width {
            grid-column: 1 / -1; 
            width: 100%;
            text-align: center; 
            padding: 12px; 
            background: #f8fafc; 
            border: 1px solid #e2e8f0; 
            border-radius: 8px; 
            cursor: pointer; 
            margin-top: 10px;
            color: #2c3e50;
            font-weight: bold;
        }
        .full-width:hover {
            background: #e2e8f0;
        }

        /* æ‰‹æ©Ÿç‰ˆé©é…ï¼šæ”¹ç‚ºä¸€æ’ 2 å€‹ (æœ€å¾Œä¸€å€‹ N/A ç¨ä½”ä¸€è¡Œæˆ–è·Ÿè‘—æ’) */
        @media (max-width: 600px) {
            .apcs-grid {
                grid-template-columns: repeat(2, 1fr); 
            }
            /* è®“ N/A æŒ‰éˆ•åœ¨æ‰‹æ©Ÿç‰ˆæ©«è·¨å…©æ¬„ï¼Œæ¯”è¼ƒå¥½çœ‹ */
            .apcs-level-na {
                grid-column: span 2;
            }
        }
    </style>
    <style>
        /* é€™è£¡é–å®š article å…§çš„è¡¨æ ¼ï¼Œé¿å…å½±éŸ¿åˆ°å…¶ä»–åœ°æ–¹ */
        .article-entry table, 
        .content table {
            width: 100%;
            table-layout: fixed; /* é—œéµï¼šé€™æœƒå¼·åˆ¶å¿½ç•¥å…§å®¹é•·åº¦ï¼Œä¾ç…§æ¬„ä½æ•¸é‡å‡åˆ†å¯¬åº¦ */
        }

        /* ç¢ºä¿æ–‡å­—å¤ªé•·æ™‚æœƒè‡ªå‹•æ›è¡Œï¼Œä¸æœƒæ’çˆ†è¡¨æ ¼ */
        .article-entry table td, 
        .content table td {
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
    </style>
    <style>
        /* 1. å¤–åŒ…è£å®¹å™¨ */
        .code-wrapper {
            position: relative;
            margin: 20px 0;
            border-radius: 8px;
            background: #f8f9fa;
            transition: all 0.3s;
        }

        /* èª¿æ•´åŸæœ¬çš„ figure æ¨£å¼ */
        figure.highlight {
            margin: 0 !important;
            border-radius: 8px;
            overflow-x: auto;
            /* [é—œéµ] é ‚éƒ¨ç•™ç™½ï¼Œé¿å…æ–‡å­—è¢«æŒ‰éˆ•æ“‹ä½ */
            padding-top: 35px !important; 
        }

        /* --- é ‚éƒ¨æŒ‰éˆ•é€šç”¨æ¨£å¼ --- */
        .code-btn {
            position: absolute;
            top: 6px; /* [ä½ç½®] è·é›¢é ‚éƒ¨ 6pxï¼Œçœ‹èµ·ä¾†æœ€èˆ’é© */
            z-index: 100;
            display: flex;
            align-items: center;
            justify-content: center;
            width: 32px;
            height: 32px;
            
            background: #ffffff;
            border: 1px solid #e0e0e0; /* ç¨ç«‹é‚Šæ¡† */
            border-radius: 6px;        /* ç¨ç«‹åœ“è§’ */
            
            cursor: pointer;
            opacity: 0.7;
            transition: all 0.2s;
            box-shadow: 0 1px 3px rgba(0,0,0,0.05); /* è¼•å¾®é™°å½± */
        }
        
        .code-btn:hover {
            opacity: 1;
            background: #fff;
            transform: translateY(-1px);
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }

        .code-btn svg {
            width: 16px;
            height: 16px;
            fill: #666;
            transition: transform 0.3s ease;
        }

        /* 2. å±•é–‹/æ”¶åˆæŒ‰éˆ• (æœ€å³é‚Š) */
        .toggle-btn {
            right: 10px; /* è·é›¢å³å´é‚Šç·£ 10px */
        }
        
        .toggle-btn.expanded svg {
            transform: rotate(180deg);
        }

        /* 3. è¤‡è£½æŒ‰éˆ• (åœ¨ç®­é ­å·¦é‚Šï¼Œä¸¦ç•™æœ‰ç©ºéš™) */
        .copy-btn {
            /* è¨ˆç®—å…¬å¼ï¼šå³é‚Šè·(10px) + æŒ‰éˆ•å¯¬(32px) + ç©ºéš™(8px) = 50px */
            right: 50px; 
        }
        
        .copy-btn.copied {
            background: #e6fffa;
            border-color: #42b983;
        }
        .copy-btn.copied svg {
            fill: #42b983;
        }

        /* 4. æ‘ºç–Šç‹€æ…‹æ¨£å¼ */
        .code-wrapper.collapsed figure.highlight {
            max-height: 350px;
            overflow-y: hidden;
        }

        .code-wrapper.collapsed::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 80px;
            background: linear-gradient(to bottom, rgba(248, 249, 250, 0), rgba(248, 249, 250, 1) 95%);
            pointer-events: none;
            z-index: 50;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }
    </style>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const COLLAPSE_HEIGHT = 450; 

        const iconCopy = `<svg viewBox="0 0 24 24"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>`;
        const iconCheck = `<svg viewBox="0 0 24 24"><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/></svg>`;
        const iconChevronDown = `<svg viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></svg>`;

        // [ä¿®æ­£é‡é»] é€™è£¡æ”¹äº†ï¼
        // åŸæœ¬æ˜¯ document.querySelectorAll('figure.highlight') æœƒæŠ“åˆ°å…¨ç«™æ‰€æœ‰ä»£ç¢¼
        // ç¾åœ¨é™åˆ¶åªæŠ“å– .article-entry (æ–‡ç« å…§å®¹) æˆ– .content (é€šç”¨å…§å®¹) åº•ä¸‹çš„ä»£ç¢¼
        const figures = document.querySelectorAll('.article-entry figure.highlight, .content figure.highlight');

        figures.forEach(figure => {
            // --- ä»¥ä¸‹é‚è¼¯å®Œå…¨æ²’è®Š ---
            const wrapper = document.createElement('div');
            wrapper.className = 'code-wrapper';
            figure.parentNode.insertBefore(wrapper, figure);
            wrapper.appendChild(figure);

            // è¤‡è£½æŒ‰éˆ•
            const copyBtn = document.createElement('button');
            copyBtn.className = 'code-btn copy-btn';
            copyBtn.innerHTML = iconCopy;
            copyBtn.title = "è¤‡è£½ç¨‹å¼ç¢¼";
            wrapper.appendChild(copyBtn);

            copyBtn.addEventListener('click', () => {
                let codeText = "";
                const codeCell = figure.querySelector('td.code');
                codeText = codeCell ? codeCell.innerText : figure.innerText;
                navigator.clipboard.writeText(codeText).then(() => {
                    copyBtn.innerHTML = iconCheck;
                    copyBtn.classList.add('copied');
                    setTimeout(() => {
                        copyBtn.innerHTML = iconCopy;
                        copyBtn.classList.remove('copied');
                    }, 2000);
                });
            });

            // æ‘ºç–ŠæŒ‰éˆ•
            if (figure.offsetHeight > COLLAPSE_HEIGHT) {
                wrapper.classList.add('collapsed');

                const toggleBtn = document.createElement('button');
                toggleBtn.className = 'code-btn toggle-btn';
                toggleBtn.innerHTML = iconChevronDown;
                toggleBtn.title = "å±•é–‹/æ”¶åˆç¨‹å¼ç¢¼";
                wrapper.appendChild(toggleBtn);

                toggleBtn.addEventListener('click', () => {
                    wrapper.classList.toggle('collapsed');
                    toggleBtn.classList.toggle('expanded');
                    if (wrapper.classList.contains('collapsed')) {
                        wrapper.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    }
                });
            }
        });
    });
    </script>
<meta name="generator" content="Hexo 8.1.1"></head>
    <body>
        <header class="header header-fixture">
    <div class="profile-search-wrap flex sm:block">
        
        
        <div class="profile sm:text-center md:px-1 lg:px-3 sm:pb-4 sm:pt-6">
            <a id="avatar" role="link" href="https://github.com/chingyen06" class="inline-block lg:w-16 lg:h-16 w-8 h-8 m-2" target="_blank" rel="noopener" rel="noreferrer" >
                <img src="/images/avatar.png" class="rounded-full" alt="avatar">
            </a>
            <h2 id="name" class="hidden lg:block">é–è«ºçš„è³‡è¨Šå­¸ç¿’ç­†è¨˜</h2>
            <h3 id="title" class="hidden lg:block"></h3>
            
            <small id="location" class="hidden lg:block">
                <i class="iconfont icon-map-icon"></i>
                Taipei, Taiwan
            </small>
            
        </div>
        
        
<div class="search flex-1 flex lg:inline-block sm:hidden lg:px-4 lg:mt-2 lg:mb-4 lg:w-full">
    <form id="search-form" class="w-full my-auto">
        <div class="relative w-full">
            <input id="search-input" type="text" placeholder="ğŸ” æœå°‹" class="w-full">
            <button type="submit" style="display: none;"></button>
        </div>
    </form>
    
    
<div id="content-json" data-placeholder="ğŸ” æœå°‹" class="invisible hidden">/content.json</div>
<script id="search-teamplate" type="text/html" data-path="/content.json">
    <div class="search-widget-container">
        <div class="search-header">
            <input id="actual-search-input" model="keyword" ref="input" class="inline-block w-full h-10 px-2 py-1" placeholder="ğŸ” æœå°‹" type="text">
        </div>
        
        <div class="search-result">
            {{#each searchPosts}}
            <a href="/{{ path }}" class="result-item block px-4 pb-3 mb-2 pt-3 hover:bg-green-50 rounded-lg transition duration-200">
                <i class="iconfont icon-file text-gray-400 mr-2"></i>
                <h1 class="result-title inline font-bold text-lg text-gray-800">{{ title }}</h1>
                <p class="result-content text-gray-500 text-sm mt-1 line-clamp-2">{{{ text }}}</p>
            </a>
            {{/each}}
        </div>
    </div>
</script>

<script>
document.addEventListener('DOMContentLoaded', function() {
  var observer = new MutationObserver(function(mutations) {
    var gtInput = document.querySelector('.gt-header-textarea');
    
    if (gtInput) {
      gtInput.addEventListener('keydown', function(e) {
        e.stopPropagation();
      });
      
      observer.disconnect();
    }
  });

  observer.observe(document.body, { childList: true, subtree: true });
});
</script>
</div>

        <button name="menu toogle button" id="menu-toggle-btn" class="block sm:hidden p-3" role="button" aria-expanded="false">
            <i class="iconfont icon-hamburger"></i>
        </button>
    </div>
    <nav id="menu-nav" class="hidden sm:flex flex-col">
        
        
            <div class="menu-item menu-home" role="menuitem">
                <a href="/.">
                    <i class="iconfont icon-home" aria-hidden="true"></i>
                    <span class="menu-title">ä¸»é </span>
                </a>
            </div>
        
        
            <div class="menu-item menu-archives" role="menuitem">
                <a href="/archives">
                    <i class="iconfont icon-archive" aria-hidden="true"></i>
                    <span class="menu-title">æ–‡ç« </span>
                </a>
            </div>
        
        
            <div class="menu-item menu-resources" role="menuitem">
                <a href="/resources">
                    <i class="iconfont icon-project" aria-hidden="true"></i>
                    <span class="menu-title">è³‡æº</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-categories" role="menuitem">
                <a href="/categories">
                    <i class="iconfont icon-folder" aria-hidden="true"></i>
                    <span class="menu-title">é¡åˆ¥</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-tags" role="menuitem">
                <a href="/tags">
                    <i class="iconfont icon-tag" aria-hidden="true"></i>
                    <span class="menu-title">æ¨™ç±¤</span>
                </a>
            </div>
        
        
            <div class="menu-item menu-about" role="menuitem">
                <a href="/about">
                    <i class="iconfont icon-cup" aria-hidden="true"></i>
                    <span class="menu-title">é—œæ–¼</span>
                </a>
            </div>
        
        
<div class="social-links flex sm:flex-col lg:hidden mt-5">
    
        <span class="social-item text-center">
            <a target="_blank" rel="noopener" href="https://github.com/chingyen06">
                <i class="iconfont social-icon icon-github"></i>
                <span class="menu-title hidden lg:inline">menu.github</span>
            </a>
        </span>
    
        <span class="social-item text-center">
            <a target="_blank" rel="noopener" href="https://www.facebook.com/ceng.jing.yan">
                <i class="iconfont social-icon icon-facebook"></i>
                <span class="menu-title hidden lg:inline">menu.facebook</span>
            </a>
        </span>
    
</div>


    </nav>
</header>

        
        <section class="main-section">
            
    <main class="flex-1 px-4 py-14 md:px-5 lg:px-8 lg:py-4 relative min-h-screen">
    

    <article class="content article article-archives article-type-list" itemscope="">
        <header class="article-header">
            
    
        <h1 class="article-title text-lg" itemprop="name">
            APCS 2025/11 å¯¦ä½œé¡Œé¡Œè§£ â€” C++
        </h1>
    



            <p class="article-meta mb-3 text-xs">
                <span class="article-date">
    <i class="iconfont icon-calendar-check"></i>
	<a href="/2026/02/15/apcs/apcs202511/" class="article-date">
	  <time datetime="2026-02-15T06:10:45.000Z" itemprop="datePublished">2026-02-15</time>
	</a>
</span>

                
  <span class="article-category">
    <i class="iconfont icon-folder"></i>
    <a class="article-category-link" href="/categories/APCS/">APCS</a>
  </span>

                
    <span class="article-tags">
    <i class="iconfont icon-tag"></i>
    <a class="article-tag-none-link" href="/tags/APCS/" rel="tag">APCS</a>, <a class="article-tag-none-link" href="/tags/C/" rel="tag">C++</a>, <a class="article-tag-none-link" href="/tags/ZeroJudge/" rel="tag">ZeroJudge</a>
  </span>


                <span class="_partial/post-comment"><i class="icon icon-comment"></i>
                    <a href="/2026/02/15/apcs/apcs202511/#comments" class="article-comment-link">
                        è©•è«–
                    </a>
                </span>
                
    
    


            </p>
        </header>
        <div class="marked-body article-body">
            <div class="alert-block alert-info">ğŸ’¡ æ­¤ç­†è¨˜ç‚ºAPCS 2025å¹´11æœˆå¯¦ä½œé¡Œè€ƒè©¦çš„é¡Œç›®è©³è§£ã€‚æ¯ä¸€é¡Œçš„é¡Œè§£éƒ½åŒ…å«è§£é¡Œæ€è·¯ã€C++ç¯„ä¾‹ç¨‹å¼ç¢¼ã€‚
</div>

<h2 id="ç¬¬ä¸€é¡Œ-å­—æ¯é…å°-ZeroJudge-r626"><a href="#ç¬¬ä¸€é¡Œ-å­—æ¯é…å°-ZeroJudge-r626" class="headerlink" title="ç¬¬ä¸€é¡Œ å­—æ¯é…å° (ZeroJudge r626.)"></a>ç¬¬ä¸€é¡Œ å­—æ¯é…å° (ZeroJudge r626.)</h2><h3 id="é¡Œç›®"><a href="#é¡Œç›®" class="headerlink" title="é¡Œç›®"></a><a target="_blank" rel="noopener" href="https://zerojudge.tw/ShowProblem?problemid=r626">é¡Œç›®</a></h3><div class="alert-block alert-success">ä½ æœ‰ $k$ å€‹å †ç–Šï¼Œç·¨è™Ÿå¾ $1$ åˆ° $k$ã€‚æ¯å€‹å †ç–Šä¸­åŒ…å«è‹¥å¹²å€‹ç‰©å“ã€‚æ¯å€‹ç‰©å“æœ‰å…©å€‹å±¬æ€§ï¼š
1. ä¸€å€‹å¤§å¯«è‹±æ–‡å­—æ¯ä»£è¡¨ç·¨è™Ÿã€‚
2. ä¸€å€‹æ­£æ•´æ•¸ä»£è¡¨åˆ†æ•¸ã€‚
ä½ å¯ä»¥åŸ·è¡Œä»»æ„æ¬¡æ“ä½œç›´åˆ°ç„¡æ³•æ“ä½œç‚ºæ­¢ï¼š
<strong>æ“ä½œï¼š</strong>
    1. é¸æ“‡å…©å€‹<strong>éç©º</strong>ä¸”<strong>ä¸åŒ</strong>çš„å †ç–Š $i$ å’Œ $j$ï¼ˆ $1 \le i, j \le k$ ä¸” $i \ne j$ï¼‰ã€‚
    2. æª¢æŸ¥å †ç–Š $i$ å’Œå †ç–Š $j$ <strong>é ‚éƒ¨</strong>çš„ç‰©å“ã€‚
    3. å¦‚æœé€™å…©å€‹å †ç–Šé ‚éƒ¨ç‰©å“çš„<strong>å­—æ¯ç›¸åŒ</strong>ï¼Œå‰‡åŸ·è¡Œæ¶ˆé™¤ï¼š
        â€¢ å¾å †ç–Š $i$ å’Œ $j$ ä¸­ç§»é™¤é ‚éƒ¨ç‰©å“ã€‚
        â€¢ ç²å¾—çš„åˆ†æ•¸ç‚ºé€™å…©å€‹è¢«ç§»é™¤ç‰©å“çš„<strong>åˆ†æ•¸ç¸½å’Œ</strong>ã€‚
    4. å¦‚æœå­—æ¯ä¸åŒï¼Œå‰‡ç„¡æ³•åŸ·è¡Œæ“ä½œã€‚
ç›®æ¨™æ˜¯åŸ·è¡Œä¸€ç³»åˆ—æ“ä½œï¼Œä½¿å¾—ä½ æœ€çµ‚ç²å¾—çš„<strong>ç¸½åˆ†æ•¸æœ€å¤§</strong>ã€‚
</div>

<h3 id="è¼¸å…¥-è¼¸å‡ºèªªæ˜"><a href="#è¼¸å…¥-è¼¸å‡ºèªªæ˜" class="headerlink" title="è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜"></a>è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</h3><table>
<thead>
<tr>
<th align="left"><strong>è¼¸å…¥èªªæ˜</strong></th>
<th align="left"><strong>è¼¸å‡ºèªªæ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç¬¬ä¸€è¡ŒåŒ…å«ä¸€å€‹æ•´æ•¸ $k$ ( $2 \le k \le 6$)ï¼Œè¡¨ç¤ºå †ç–Šçš„æ•¸é‡ã€‚<br>æ¥ä¸‹ä¾† $k$ è¡Œï¼Œæ¯è¡Œæè¿°ä¸€å€‹å †ç–Šçš„å…§å®¹ã€‚ç¬¬ $i$ è¡Œæè¿°å †ç–Š $i$ã€‚<br>æ¯è¡Œé¦–å…ˆæ˜¯ä¸€å€‹æ•´æ•¸ $n_i$ï¼Œè¡¨ç¤ºå †ç–Š $i$ ä¸­ç‰©å“çš„æ•¸é‡ã€‚<br>æ¥è‘—æ˜¯ $n_i$ å° (å­—æ¯, åˆ†æ•¸) çš„æè¿°ï¼ŒæŒ‰ç…§å¾å †é ‚åˆ°å †åº•çš„é †åºçµ¦å‡ºã€‚<br>&emsp;â€¢ <code>å­—æ¯</code> æ˜¯ä¸€å€‹å¤§å¯«è‹±æ–‡å­—æ¯ (â€˜Aâ€™ - â€˜Zâ€™)ã€‚<br>&emsp;â€¢ <code>åˆ†æ•¸</code> æ˜¯ä¸€å€‹æ­£æ•´æ•¸ $s$ ( $1 \le s \le 10$ )ã€‚<br>ä¿è­‰æ¯å€‹å †ç–Šæœ€å¤š $12$ å€‹ç‰©å“ã€‚<br>30 åˆ†: $k &#x3D; 3$<br>70 åˆ†: ç„¡é™åˆ¶</td>
<td align="left">è¼¸å‡ºä¸€å€‹æ­£æ•´æ•¸ï¼Œä»£è¡¨èƒ½ç²å¾—çš„æœ€å¤§åˆ†æ•¸ã€‚</td>
</tr>
</tbody></table>
<h3 id="è§£é¡Œæ€è·¯"><a href="#è§£é¡Œæ€è·¯" class="headerlink" title="è§£é¡Œæ€è·¯"></a>è§£é¡Œæ€è·¯</h3><div class="alert-block alert-warning">é€™ä¸€é¡Œæ˜¯ DFS çš„é¡Œç›®ï¼Œä½†å¦‚æœè¦å¾ 30 åˆ†åˆ° 100 åˆ†ï¼Œå°±éœ€è¦åšè¨˜æ†¶åŒ–æœå°‹ã€‚
é€™é¡Œå› ç‚ºé¡Œç›®åŒæ™‚æåˆ°æåˆ°ç‰©å“ (å­—æ¯ã€åˆ†æ•¸) èˆ‡å †ç–Š (å¾ˆå¤šå€‹ç‰©å“)ï¼Œæ‰€ä»¥å¤§å®¶å¯ä»¥ç™¼ç¾åˆ°å †ç–Šå…§æœ‰ç‰©å“ï¼Œç‰©å“å…§æœ‰å­—æ¯ã€åˆ†æ•¸ï¼Œæ‰€ä»¥æˆ‘å€‘å¯ä»¥ä½¿ç”¨ç‰©ä»¶å°å‘ (OOP) çš„å°è£æ¦‚å¿µï¼Œåˆ¥æ“”å¿ƒï¼Œæ²’æœ‰å¾ˆé›£çœ‹æ‡‚ï¼Œä¸‹é¢æœ‰åœ–ã€‚å¦‚æœä¸ä½¿ç”¨å°è£ä¾†åšï¼Œæœƒæœ‰ä¸€å †è®Šæ•¸æ•£è½ï¼Œåˆ°æ™‚å€™æœƒæ¯”è¼ƒé›£çœ‹ï¼Œdebug çš„æ™‚å€™æœƒå¾ˆç—›è‹¦ã€‚
æˆ‘å°‡é¡Œç›®æåˆ°çš„ç‰©å“ç”¨ struct å®šç¾©ç‚º Item ç‰©ä»¶ï¼Œå†æŠŠå †ç–Šç‹€æ…‹ç”¨ struct å®šç¾©ç‚º Contentï¼Œçµæ§‹å¦‚åœ–æ‰€ç¤ºï¼š
<div style="display: flex; gap: 10px; margin: 10px 0;">
  <img src="åœ–ç‰‡1.png" alt="åœ–ç‰‡1" style="width: 30%; border-radius: 4px; object-fit: contain;">
</div><div style="display: flex; gap: 10px; margin: 10px 0;">
  <img src="åœ–ç‰‡2.png" alt="åœ–ç‰‡2" style="width: 30%; border-radius: 4px; object-fit: contain;">
</div>ç‰©å“ Item è£¡é¢æ”¾ `å­—æ¯ w` å’Œ `åˆ†æ•¸ s`ï¼Œå †ç–Šç‹€æ…‹ Content è£¡é¢åŒ…å« `ç‰©å“æ•¸ n`ã€`å †ç–Š st` å’Œ `å †ç–Šé ‚éƒ¨ä½ç½® start`ï¼Œå…¶ä¸­ `å †ç–Š st` ç”¨é™£åˆ—å­˜ï¼Œé™£åˆ—å…ƒç´ æ˜¯ `ç‰©å“ Item`ã€‚
DFS æ¼”ç®—æ³•ï¼š
æ¯å€‹éç¨‹å°±æ˜¯ä¸æ–·å˜—è©¦ã€‚
  1. ç”¨é›™å±¤è¿´åœˆ iã€j ä»»é¸å…©å€‹å †ç–Š
  2. åˆ¤æ–·æ˜¯å¦é ‚éƒ¨ç‰©å“çš„å­—æ¯ç›¸åŒï¼Œæ˜¯å°±æŠŠä»–å€‘ç”¨æ‰ï¼Œstart + 1
  3. å‘¼å« DFS ç¹¼çºŒéè¿´ï¼Œå˜—è©¦ç”¨æ‰é€™å€‹çµ„åˆå¾Œå‰©é¤˜çš„çµ„åˆ
  4. éè¿´å›ä¾†å¾Œï¼Œåˆ¤æ–·é€™å€‹çµ„åˆå¾—åˆ°çš„åˆ†æ•¸ + éè¿´å¾Œå¾—åˆ°çš„çµæœ (å·²ç¶“æ˜¯æœ€å¤§å€¼) æ˜¯å¦å¤§æ–¼ Maxï¼Œå¤§æ–¼å°±æŠŠ Max æ”¹æˆé€™å€‹çµ„åˆå¾—åˆ°çš„åˆ†æ•¸ + éè¿´å¾Œå¾—åˆ°çš„çµæœ
ç¶“éä¸Šè¿°å››æ­¥å¾Œï¼Œå›å‚³ Max ä½œç‚ºé€™å€‹ç‹€æ…‹ä¸‹ç¹¼çºŒ DFS çš„æœ€å¤§å€¼ã€‚
æœ€å¾Œå°±æœƒå¾—åˆ°çµæœï¼Œä½† k å¤ªå¤§å°±æœƒè¶…æ™‚ã€‚
ç•¶æˆ‘å€‘æ¯æ¬¡åœ¨åš DFS çš„æ™‚å€™ï¼Œå¯èƒ½å­˜åœ¨é‡è¤‡çš„çµ„åˆï¼Œè€Œä¸Šé¢çš„æ–¹æ³•æœƒé‡è¤‡åšï¼Œå¤ªæµªè²»æ™‚é–“ã€‚
æ‰€ä»¥æˆ‘å€‘ç”¨ä¸€å€‹ map<vector<int>, int> å­˜åœ¨é€™å€‹ç‹€æ…‹ä¸‹ï¼Œå·²ç¶“è¨ˆç®—éçš„æœ€å¤§å€¼ã€‚
vector<int> å­˜ k å€‹å †ç–Šå„è‡ªå‰©é¤˜çš„ç‰©å“æ•¸é‡ï¼Œä»£è¡¨ä¸€å€‹ç‹€æ…‹ã€‚
å†ç”¨ vector<int> ä½œç‚º map çš„é‘°åŒ™ (key)ï¼Œå»å­˜æœ€å¤§å€¼ï¼Œå°±ç›´æ¥ç”¨ map[é€™å€‹ vector] = æœ€å¤§å€¼ã€‚
é‚£æˆ‘å€‘æ¯æ¬¡ DFS é–‹å§‹å‰ï¼Œå°±å…ˆæª¢æŸ¥åœ¨ç›®å‰ç‹€æ…‹ä¸‹ï¼Œæ˜¯å¦å·²ç¶“æœ‰è¨ˆç®—éçš„æœ€å¤§å€¼ï¼Œæœ‰çš„è©±å°±ç›´æ¥å›å‚³ï¼Œé”åˆ°è¨˜æ†¶åŒ–æœå°‹çš„æ•ˆæœã€‚<br>
<strong><è¨»è§£></strong> é€™é¡Œæˆ‘ç¤ºç¯„çš„æ˜¯ç”¨ map åšï¼Œä¸¦ä¸”ä½¿ç”¨ vector ä½œç‚ºé‘°åŒ™ (key) ï¼Œå¥½è™•æ˜¯å¾ˆç›´è§€ï¼Œä½†å¯èƒ½æœƒå°è‡´é¢è‡¨æ•ˆèƒ½ç“¶é ¸ï¼Œä½ å€‘å¯ä»¥ç›´æ¥ä½¿ç”¨ $13^6$ å¤§çš„ä¸€ç¶­é™£åˆ— memoï¼Œä¸¦å°‡æ¯å€‹ç‹€æ…‹ï¼Œå³ k å€‹å †ç–Šåˆ†åˆ¥å‰©é¤˜çš„æ•¸é‡é€é 13 é€²ä½ç·¨ç¢¼ï¼Œé€™æ¨£æœƒå¿«å¾ˆå¤šå–”ã€‚
å‡è¨­ k = 6ï¼Œé€™ 6 å€‹å †ç–Šåˆ†åˆ¥å‰©ä¸‹ 10ã€12ã€0ã€7ã€5ã€8 å€‹ç‰©å“ï¼Œé‚£ä½ å¯ä»¥ç”¨ $10 \times 13^0 + 12 \times 13^1 + 0 \times 13^2 + 7 \times 13^3 + 5 \times 13^4 + 8 \times 13^5$ è¡¨ç¤ºé€™å€‹ç‹€æ…‹ï¼ŒæŠŠå¾—å‡ºçš„ç­”æ¡ˆç•¶ä½œç´¢å¼•å­˜å…¥æœ€å¤§å€¼ï¼Œå³ memo[å¾—å‡ºçš„ç­”æ¡ˆ] = æœ€å¤§å€¼ï¼Œé€™æ¨£æœƒå¿«å¾ˆå¤šã€‚
</div>

<h3 id="ç¯„ä¾‹ç¨‹å¼ç¢¼"><a href="#ç¯„ä¾‹ç¨‹å¼ç¢¼" class="headerlink" title="ç¯„ä¾‹ç¨‹å¼ç¢¼"></a>ç¯„ä¾‹ç¨‹å¼ç¢¼</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Item</span> &#123;</span><br><span class="line">	<span class="type">char</span> w;</span><br><span class="line">	<span class="type">int</span> s;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Content</span> &#123;</span><br><span class="line">	<span class="type">int</span> n;</span><br><span class="line">	Item st[<span class="number">12</span>];  <span class="comment">// ç”±å¾Œå¾€å‰å¯ä»¥ç•¶ stack ç”¨ </span></span><br><span class="line">	<span class="type">int</span> start = <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">Content content[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­˜åœ¨ä¸€å€‹å‘é‡ &#123;?, ?, ?, ?, ?, ?&#125; çš„ç‹€æ…‹ä¸‹ (? å­˜å‰©é¤˜çš„ç‰©å“æ•¸)</span></span><br><span class="line"><span class="comment">// ç¹¼çºŒ DFS çš„æœ€å¤§åˆ†æ•¸ </span></span><br><span class="line">map&lt;vector&lt;<span class="type">int</span>&gt;, <span class="type">int</span>&gt; mapp;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> k)</span></span></span><br><span class="line"><span class="function"></span>&#123;	</span><br><span class="line">	<span class="type">int</span> i, j, temp, Max = <span class="number">0</span>;</span><br><span class="line">	<span class="type">int</span> num1, num2;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å¾ 30 åˆ†åˆ° 100 åˆ†</span></span><br><span class="line">	vector&lt;<span class="type">int</span>&gt; state;  <span class="comment">// ç›®å‰ç‹€æ…‹ </span></span><br><span class="line">	<span class="keyword">for</span>(i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">		state.<span class="built_in">push_back</span>(content[i].start);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (mapp.<span class="built_in">count</span>(state))  <span class="comment">// å·²ç¶“è©¦éäº† </span></span><br><span class="line">		<span class="keyword">return</span> mapp[state];  <span class="comment">// ç›´æ¥å›å‚³ </span></span><br><span class="line">	<span class="comment">// </span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">		<span class="keyword">for</span> (j=i<span class="number">+1</span>;j&lt;k;j++) &#123;</span><br><span class="line">			<span class="keyword">if</span> (i == j)  <span class="comment">// åŒä¸€å€‹ç•¥é</span></span><br><span class="line">				<span class="keyword">continue</span>; </span><br><span class="line">			</span><br><span class="line">			num1 = content[i].start;  <span class="comment">// é€™ä¸€å›åˆå †ç–Šä¸€é ‚éƒ¨çš„ç‰©å“çš„ç´¢å¼• </span></span><br><span class="line">			num2 = content[j].start;  <span class="comment">// é€™ä¸€å›åˆå †ç–ŠäºŒé ‚éƒ¨çš„ç‰©å“çš„ç´¢å¼•</span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span> (num1 &gt;= content[i].n || num2 &gt;= content[j].n)  <span class="comment">// æœ‰ä»»ä½•åœ°æ–¹å–å®Œäº† </span></span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			 </span><br><span class="line">			<span class="comment">// é ‚éƒ¨çš„ç‰©å“çš„å­—æ¯ç›¸åŒ</span></span><br><span class="line">			<span class="keyword">if</span> (content[i].st[num1].w == content[j].st[num2].w) &#123;</span><br><span class="line">				<span class="comment">// æš«æ™‚çš„åˆ†æ•¸ = é€™ä¸€å›åˆç²å¾—çš„åˆ†æ•¸(2å€‹å †ç–Š) + dfså…¶ä»–é¸é …çš„æœ€å¤§åˆ†æ•¸ </span></span><br><span class="line">				temp = content[i].st[num1].s + content[j].st[num2].s;</span><br><span class="line">				content[i].start++;  <span class="comment">// ç”¨æ‰ä¹‹å¾Œ </span></span><br><span class="line">				content[j].start++;  <span class="comment">// ç”¨æ‰ä¹‹å¾Œ</span></span><br><span class="line">				</span><br><span class="line">				temp += <span class="built_in">dfs</span>(k);  <span class="comment">// DFS ä½¿ç”¨æ‰é€™å€‹ iã€j å¾Œæœ€å¤§çš„å¯èƒ½ </span></span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span> (temp &gt; Max)</span><br><span class="line">					Max = temp;</span><br><span class="line">				</span><br><span class="line">				content[i].start--;  <span class="comment">// é‚„å›å»ï¼Œä¸å– i çš„å…¶ä»–å¯èƒ½ </span></span><br><span class="line">				content[j].start--;  <span class="comment">// é‚„å›å»ï¼Œä¸å– j çš„å…¶ä»–å¯èƒ½</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// å¾ 30 åˆ†åˆ° 100 åˆ†</span></span><br><span class="line">	mapp[state] = Max;  <span class="comment">// å­˜ç›®å‰ç‹€æ…‹ä¸‹ï¼Œç¹¼çºŒ DFS çš„æœ€å¤§åˆ†æ•¸ï¼Œè¡¨ç¤ºä¹‹å¾Œä¸å¿…å†æŸ¥ </span></span><br><span class="line">	<span class="comment">//</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> Max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> i, j, k;</span><br><span class="line">	</span><br><span class="line">	cin &gt;&gt; k;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;k;i++) &#123;</span><br><span class="line">		cin &gt;&gt; content[i].n;  <span class="comment">// n_i</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (j=<span class="number">0</span>;j&lt;content[i].n;j++) &#123;</span><br><span class="line">			cin &gt;&gt; content[i].st[j].w &gt;&gt; content[i].st[j].s;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; <span class="built_in">dfs</span>(k);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é‹è¡Œçµæœ"><a href="#é‹è¡Œçµæœ" class="headerlink" title="é‹è¡Œçµæœ"></a>é‹è¡Œçµæœ</h3><p><font color="#00BB00"><strong>AC</strong></font> (31ms, 3.3MB)</p>
<h2 id="ç¬¬äºŒé¡Œ-åˆ—å°å·¥å» -ZeroJudge-r627"><a href="#ç¬¬äºŒé¡Œ-åˆ—å°å·¥å» -ZeroJudge-r627" class="headerlink" title="ç¬¬äºŒé¡Œ åˆ—å°å·¥å»  (ZeroJudge r627.)"></a>ç¬¬äºŒé¡Œ åˆ—å°å·¥å»  (ZeroJudge r627.)</h2><h3 id="é¡Œç›®-1"><a href="#é¡Œç›®-1" class="headerlink" title="é¡Œç›®"></a><a target="_blank" rel="noopener" href="https://zerojudge.tw/ShowProblem?problemid=r627">é¡Œç›®</a></h3><div class="alert-block alert-success">ä½ æ“æœ‰ä¸€å°å°åˆ·æ©Ÿï¼Œéœ€è¦è™•ç† $n$ å€‹å°åˆ·ä»»å‹™ã€‚æ¯å€‹å°åˆ·ä»»å‹™ $i$ éƒ½æœ‰ä¸‰å€‹ç›¸é—œçš„åƒæ•¸ï¼š
	1. <strong>é–‹å§‹æ™‚é–“ (Start Time, $s_i$):</strong> ä»»å‹™ $i$ å¯ä»¥åœ¨ $s_i$ æˆ–ä¹‹å¾Œé–‹å§‹å°åˆ·ã€‚
	2. <strong>æˆªæ­¢æ™‚é–“ (Deadline, $d_i$):</strong> ä»»å‹™ $i$ å¿…é ˆåœ¨ $d_i$ æˆ–ä¹‹å‰<strong>å®Œæˆ</strong>å°åˆ·ã€‚
	3. <strong>æ‰€éœ€æ™‚é–“ (Processing Time, $t_i$):</strong> ä»»å‹™ $i$ éœ€è¦ $t_i$ ç§’çš„é€£çºŒæ™‚é–“ä¾†å®Œæˆå°åˆ·ã€‚
å°åˆ·æ©Ÿåœ¨æŸä¸€ç§’å®Œæˆä¸€å€‹å°åˆ·å“å¾Œï¼Œå¯ä»¥åœ¨<strong>ä¸‹ä¸€ç§’é–‹å§‹</strong>æ™‚ç«‹å³é–‹å§‹åˆ—å°ä¸‹ä¸€å€‹å°åˆ·å“ã€‚
æˆ‘å€‘å¸Œæœ›æ’å®šé€™ $n$ å€‹å°åˆ·ä»»å‹™çš„åŸ·è¡Œé †åºï¼Œä½¿å¾—æ‰€æœ‰ä»»å‹™éƒ½èƒ½åœ¨å…¶æˆªæ­¢æ™‚é–“å…§å®Œæˆã€‚ç„¶è€Œè‹¥æ˜¯è®“å°åˆ·æ©Ÿç©ºé–’æ™‚é–“ä¸è¶³æœƒæ¸›æå°åˆ·æ©Ÿçš„å£½å‘½ï¼Œç‚ºäº†ç¶­è­·å°åˆ·æ©Ÿçš„å£½å‘½ï¼Œæˆ‘å€‘å¸Œæœ›æœ€å¤§åŒ–å°åˆ·æ©Ÿåœ¨èƒ½å¤ åŸ·è¡Œå…¨éƒ¨ä»»å‹™çš„å‰æä¸‹ï¼Œ<strong>ä»»å…©å€‹ä»»å‹™çš„é–“éš”æ™‚é–“</strong>æœ€å¤§å€¼ã€‚
<strong>ä»»å…©å€‹ä»»å‹™çš„é–“éš”æ™‚é–“</strong>å®šç¾©ç‚ºï¼šåœ¨å®Œæˆå‰ä¸€å€‹å°åˆ·ä»»å‹™èˆ‡é–‹å§‹ä¸‹ä¸€å€‹å°åˆ·ä»»å‹™ä¹‹é–“ï¼Œå°åˆ·æ©Ÿé–’ç½®çš„æ™‚é–“é•·åº¦ã€‚
ä½ çš„ä»»å‹™æ˜¯æ‰¾å‡ºä¸€å€‹æœ‰æ•ˆçš„ä»»å‹™æ’ç¨‹é †åºï¼Œä½¿å¾—æ‰€æœ‰ä»»å‹™éƒ½èƒ½åœ¨æˆªæ­¢æ™‚é–“å…§å®Œæˆï¼Œä¸¦ä¸”å°åˆ·æ©Ÿåœ¨æ•´å€‹æ’ç¨‹ä¸­ç²å¾—çš„ç¸½ä¼‘æ¯æ™‚é–“æœ€å¤§ã€‚
</div>

<h3 id="è¼¸å…¥-è¼¸å‡ºèªªæ˜-1"><a href="#è¼¸å…¥-è¼¸å‡ºèªªæ˜-1" class="headerlink" title="è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜"></a>è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</h3><table>
<thead>
<tr>
<th align="left"><strong>è¼¸å…¥èªªæ˜</strong></th>
<th align="left"><strong>è¼¸å‡ºèªªæ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç¬¬ä¸€è¡ŒåŒ…å«ä¸€å€‹æ•´æ•¸ $n$ï¼ˆ $2 \le n \le 8$ ï¼‰ï¼Œè¡¨ç¤ºå°åˆ·ä»»å‹™çš„ç¸½æ•¸é‡ã€‚ æ¥ä¸‹ä¾† $n$ è¡Œï¼Œæ¯è¡ŒåŒ…å«ä¸‰å€‹éè² æ•´æ•¸ $s_i, d_i, t_i$ï¼ˆ $0 \le s_i &lt; d_i \le 1000$ , $1 \le t_i \le d_i - s_i$ ï¼‰ï¼Œåˆ†åˆ¥è¡¨ç¤ºç¬¬ $i$ å€‹ä»»å‹™çš„é–‹å§‹æ™‚é–“ã€æˆªæ­¢æ™‚é–“å’Œæ‰€éœ€æ™‚é–“ã€‚<br>30 åˆ†: $n \le 3$<br>70 åˆ†: ç„¡é™åˆ¶</td>
<td align="left">å¦‚æœå­˜åœ¨ä¸€å€‹æœ‰æ•ˆçš„æ’ç¨‹é †åºï¼Œä½¿å¾—æ‰€æœ‰ä»»å‹™éƒ½èƒ½åœ¨æˆªæ­¢æ™‚é–“å…§å®Œæˆï¼Œå‰‡è¼¸å‡º<strong>æœ€å¤§å¯èƒ½çš„ç¸½ä¼‘æ¯æ™‚é–“</strong>ã€‚ä¿è­‰æ¸¬è©¦è³‡æ–™ä¸€å®šå¯ä»¥å­˜åœ¨ä¸€å€‹æ’ç¨‹æ–¹å¼å®Œæˆæ‰€æœ‰ä»»å‹™ã€‚</td>
</tr>
</tbody></table>
<h3 id="è§£é¡Œæ€è·¯-1"><a href="#è§£é¡Œæ€è·¯-1" class="headerlink" title="è§£é¡Œæ€è·¯"></a>è§£é¡Œæ€è·¯</h3><div class="alert-block alert-warning">é€™ä¸€é¡Œæ˜¯äºŒåˆ†æœ + DFS çš„é¡Œç›®ã€‚
é¡Œç›®è¦æ±‚æ‰¾<strong>æœ€å¤§å¯èƒ½çš„ç¸½ä¼‘æ¯æ™‚é–“</strong>ï¼Œå…¶å¯¦æ˜¯åœ¨è¦æˆ‘å€‘æ±‚å‡ºä»»å…©å€‹ä»»å‹™ä¹‹é–“æœ€çŸ­çš„é–“éš”æ™‚é–“çš„æœ€å¤§å€¼ (ans)ã€‚
é‚£é€™ç¨®é¡Œç›®å¾ˆæ˜é¡¯æ˜¯éœ€è¦ç”¨äºŒåˆ†æœæ‰ä¸æœƒè¶…æ™‚ï¼Œé¡Œç›®èªª $0 \le s_i < d_i \le 1000$ï¼Œæ‰€ä»¥æˆ‘å°±æŠŠ left è¨­ç‚º 0ã€right è¨­ç‚º 1000ï¼Œå»æœå°‹å‡º ans æœ€å¤§å€¼ã€‚
äºŒåˆ†æœæœƒéœ€è¦ä¸€å€‹æ¢ä»¶æ±ºå®šæ¥ä¸‹ä¾†å¾€å¤§é‚„æ˜¯å¾€å°æœå°‹ï¼Œè€Œé€™å€‹æ¢ä»¶æˆ‘å€‘å¯ä»¥ä½¿ç”¨ DFS å»æ‰¾åœ¨é–“éš”æ™‚é–“ ans ä¸‹ï¼Œæ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰ä»»å‹™ã€‚
DFS æ¼”ç®—æ³•ï¼š
	1. å¦‚æœä»»å‹™å·²ç¶“åšå®Œäº†å°±å›å‚³ 1ï¼Œä»£è¡¨å¯ä»¥
	2. é€é for è¿´åœˆéæ­·é‚„æ²’åšï¼Œä¸”æˆªæ­¢ä¹‹å‰å¯ä»¥åšå®Œçš„ä»»å‹™
		now ä»£è¡¨å¯ä»¥é–‹å§‹å°åˆ·çš„æ™‚é–“ã€‚
		used[i] ç¢ºèªæ˜¯å¦åšéäº†ã€‚
		max(s[i], now)ï¼š
			1. å¦‚æœ s[i] >= now ä»£è¡¨è¦ç­‰ä¸€æ®µæ™‚é–“åˆ° s[i] æ‰èƒ½é–‹å§‹ï¼Œæ‰€ä»¥åšå®Œçš„æ™‚é–“æ˜¯ s[i] + t[i]
			2. å¦‚æœ s[i] < now ä»£è¡¨å¯ä»¥ç›´æ¥é–‹å§‹åšï¼Œæ‰€ä»¥åšå®Œçš„æ™‚é–“æ˜¯ now + t[i]
		max(s[i], now) + t[i] <= d å°±ä»£è¡¨æˆªæ­¢ä¹‹å‰å¯ä»¥åšå®Œçš„ä»»å‹™
	3. å…ˆåšå®Œé€™å€‹ä»»å‹™ï¼Œç„¶å¾Œå‘¼å« DFS ç¹¼çºŒéè¿´ï¼Œå˜—è©¦å‰©é¤˜çš„çµ„åˆæ˜¯å¦å¯ä»¥å®Œæˆï¼Œå¯ä»¥å°±ç›´æ¥å›å‚³ 1
	4. ä¸èƒ½åšå®Œå°±å…ˆä¸åšé€™å€‹ä»»å‹™ï¼Œé‡æ–°å›åˆ°ç¬¬äºŒæ­¥æ‰¾ä¸‹ä¸€å€‹å¯ä»¥å…ˆåšçš„ä»»å‹™
æœ€å¾Œè¨˜å¾— DFS æ¼”ç®—æ³•çµæŸå¾Œï¼Œç„¡è«–åœ¨é–“éš”æ™‚é–“ ans ä¸‹ï¼Œæ˜¯å¦èƒ½å®Œæˆæ‰€æœ‰ä»»å‹™ï¼Œéƒ½è¦æŠŠ used é™£åˆ—é‡ç½®ã€‚
æœ€å¾Œå¾—åˆ°çš„ ans å°±æ˜¯ç­”æ¡ˆã€‚
</div>

<h3 id="ç¯„ä¾‹ç¨‹å¼ç¢¼-1"><a href="#ç¯„ä¾‹ç¨‹å¼ç¢¼-1" class="headerlink" title="ç¯„ä¾‹ç¨‹å¼ç¢¼"></a>ç¯„ä¾‹ç¨‹å¼ç¢¼</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="type">int</span> s[<span class="number">8</span>], d[<span class="number">8</span>], t[<span class="number">8</span>], used[<span class="number">8</span>]=&#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> now, <span class="type">int</span> relax, <span class="type">int</span> count)</span> </span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> i, check = <span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (count == n)  <span class="comment">// ä»»å‹™å·²ç¶“éƒ½åšå®Œäº† </span></span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">// ç›´æ¥å›å‚³ 1 </span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">max</span>(s[i], now) + t[i] &lt;= d[i] &amp;&amp; used[i] == <span class="number">0</span>) &#123;  <span class="comment">// è‹¥æˆªæ­¢ä¹‹å‰å¯ä»¥åšå®Œ &amp; æ²’åšé </span></span><br><span class="line">			used[i] = <span class="number">1</span>;  <span class="comment">// åšé€™å€‹ä»»å‹™  </span></span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span> (<span class="built_in">dfs</span>(<span class="built_in">max</span>(s[i], now)+t[i]+relax, relax, count<span class="number">+1</span>) == <span class="number">1</span>)  <span class="comment">// DFS åšå®Œé€™å€‹ä»»å‹™å¾Œæ˜¯å¦èƒ½å®Œæˆçš„å¯èƒ½ </span></span><br><span class="line">				<span class="keyword">return</span> <span class="number">1</span>;  <span class="comment">// å·²ç¶“åšå®Œäº†ï¼Œç›´æ¥å›å‚³ 1 </span></span><br><span class="line">				</span><br><span class="line">			<span class="comment">// é€™å€‹çµ„åˆä¸è¡Œï¼Œæ›å…¶ä»–çµ„åˆ </span></span><br><span class="line">			used[i] = <span class="number">0</span>;  <span class="comment">// ä¸åšé€™å€‹ä»»å‹™ </span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> i;</span><br><span class="line">	<span class="type">int</span> left = <span class="number">0</span>, right = <span class="number">1000</span>, mid, ans = <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) &#123;</span><br><span class="line">		cin &gt;&gt; s[i] &gt;&gt; d[i] &gt;&gt; t[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">		mid = (left + right) / <span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="comment">// cout &lt;&lt; mid &lt;&lt; &quot; | &quot; &lt;&lt; left &lt;&lt; &quot; &quot; &lt;&lt; right &lt;&lt; endl;</span></span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span> (<span class="built_in">dfs</span>(<span class="number">0</span>, mid, <span class="number">0</span>) == <span class="number">1</span>) &#123;  <span class="comment">// é€™å€‹é–“éš”æ™‚é–“å¯ä»¥ </span></span><br><span class="line">			<span class="comment">// cout &lt;&lt; &quot;Yes: &quot; &lt;&lt; mid &lt;&lt; endl;</span></span><br><span class="line">		</span><br><span class="line">			left = mid + <span class="number">1</span>;</span><br><span class="line">			ans = mid;</span><br><span class="line">		&#125; </span><br><span class="line">		<span class="keyword">else</span> &#123;  <span class="comment">// é€™å€‹é–“éš”æ™‚é–“ä¸è¡Œ </span></span><br><span class="line">			<span class="comment">// cout &lt;&lt; &quot;No: &quot; &lt;&lt; mid &lt;&lt; endl;</span></span><br><span class="line">		</span><br><span class="line">			right = mid - <span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (i=<span class="number">0</span>;i&lt;n;i++) &#123;  <span class="comment">//  é‡ç½®ä½¿ç”¨ç´€éŒ„ </span></span><br><span class="line">			used[i] = <span class="number">0</span>;</span><br><span class="line">		&#125; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; ans;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é‹è¡Œçµæœ-1"><a href="#é‹è¡Œçµæœ-1" class="headerlink" title="é‹è¡Œçµæœ"></a>é‹è¡Œçµæœ</h3><p><font color="#00BB00"><strong>AC</strong></font> (1ms, 336KB)</p>
<h2 id="ç¬¬ä¸‰é¡Œ-ç¿»ä¾†è¦†å»-ZeroJudge-r628"><a href="#ç¬¬ä¸‰é¡Œ-ç¿»ä¾†è¦†å»-ZeroJudge-r628" class="headerlink" title="ç¬¬ä¸‰é¡Œ ç¿»ä¾†è¦†å» (ZeroJudge r628.)"></a>ç¬¬ä¸‰é¡Œ ç¿»ä¾†è¦†å» (ZeroJudge r628.)</h2><h3 id="é¡Œç›®-2"><a href="#é¡Œç›®-2" class="headerlink" title="é¡Œç›®"></a><a target="_blank" rel="noopener" href="https://zerojudge.tw/ShowProblem?problemid=r628">é¡Œç›®</a></h3><div class="alert-block alert-success">çµ¦å®šä¸€å€‹é•·åº¦ç‚º $n$ çš„æ’åˆ—ï¼ˆPermutationï¼‰$P=(p_1, p_2, ..., p_n)$ï¼ŒåŒ…å«å¾ $1$ åˆ° $n$ çš„æ‰€æœ‰æ•´æ•¸ã€‚ä¸€é–‹å§‹ï¼Œæ‰€æœ‰å…ƒç´ éƒ½æŒ‰ç…§å®ƒå€‘åœ¨ $P$ ä¸­çš„é †åºï¼Œå¾ $p_n$ åˆ° $p_1$ ä¾æ¬¡è¢«å£“å…¥ Stack $S_2$ ä¸­ï¼ˆå³ $p_n$ åœ¨åº•ï¼Œ$p_1$ åœ¨é ‚ï¼‰ã€‚
ç›®æ¨™æ˜¯è¦é€éé€™å…©å€‹ stack çš„ push å’Œ pop æ“ä½œä¾†å°‡é€™å€‹æ’åˆ—åšç”±å°åˆ°å¤§æ’åºï¼Œä¸¦ä¸”è¼¸å‡ºæœ€å°‘éœ€è¦å¤šå°‘ pop æ“ä½œã€‚
ä»¥ç¯„ä¾‹æ¸¬è³‡2 ç‚ºä¾‹ï¼Œç›®å‰çš„å…©å€‹ stack ç‚º [], [4, 2, 3, 1]
<div style="display: flex; gap: 10px; margin: 10px 0;">
  <img src="åœ–ç‰‡3.png" alt="åœ–ç‰‡3" style="width: 100%; border-radius: 4px; object-fit: contain;">
</div>ç¸½å…±èŠ±è²» 8 æ¬¡ pop æ“ä½œã€‚
</div>

<h3 id="è¼¸å…¥-è¼¸å‡ºèªªæ˜-2"><a href="#è¼¸å…¥-è¼¸å‡ºèªªæ˜-2" class="headerlink" title="è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜"></a>è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</h3><table>
<thead>
<tr>
<th align="left"><strong>è¼¸å…¥èªªæ˜</strong></th>
<th align="left"><strong>è¼¸å‡ºèªªæ˜</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">ç¬¬ä¸€è¡Œè¼¸å…¥ä¸€å€‹æ­£æ•´æ•¸ $n$ ( $1 \le n \le 10^5$ )ï¼Œæ¥ä¸‹ä¾†ä¸€è¡Œç‚º $1$ åˆ° $n$ çš„ä¸€å€‹æ’åˆ—ã€‚<br>30 åˆ†: $n \le 100$<br>70 åˆ†: ç„¡é™åˆ¶</td>
<td align="left">è¼¸å‡ºéœ€è¦å¤šå°‘ pop æ“ä½œæ‰èƒ½å°‡é€™å€‹æ’åˆ—ç”±å°åˆ°å¤§æ’åºå¥½ã€‚</td>
</tr>
</tbody></table>
<h3 id="è§£é¡Œæ€è·¯-2"><a href="#è§£é¡Œæ€è·¯-2" class="headerlink" title="è§£é¡Œæ€è·¯"></a>è§£é¡Œæ€è·¯</h3><div class="alert-block alert-warning">é€™é¡Œæˆ‘çœ‹è§£é¡Œå ±å‘Šéƒ½æ•™ BITï¼Œæ‰€ä»¥æˆ‘ä¾†å¯«ä¸€ä¸‹åˆ†è€Œæ²»ä¹‹çš„æ–¹æ³•ï¼Œé€™é¡Œæˆ‘ç”¨ç·šæ®µæ¨¹çš„æ–¹æ³•åšä¸€æ¬¡ã€‚å› ç‚ºç·šæ®µæ¨¹åªè¦æ»¿è¶³çµåˆå¾‹å°±å¯ä»¥ä½¿ç”¨ï¼Œä¹Ÿèƒ½ä½¿ç”¨ lazy propagationï¼Œæ¯”è¼ƒè¬ç”¨ã€‚é€™æ–¹é¢å¤§å®¶åœ¨å¤§å­¸çš„è³‡æ–™çµæ§‹æœƒå­¸åˆ°ã€‚
é€™ä¸€é¡Œæ˜¯åœ¨å•å…©å€‹ stack äº’ç›¸ pop èˆ‡ push å¾Œæ’åºï¼Œè¼¸å‡ºæœ€å°‘éœ€è¦å¤šå°‘æ¬¡ pop æ“ä½œã€‚è§€å¯Ÿä¸€ä¸‹å¯ä»¥ç™¼ç¾å…¶å¯¦ pop æ¬¡æ•¸å°±æ˜¯ç®—ç›®å‰ä½ç½®çš„ç´¢å¼•åˆ°ç›®æ¨™æ•¸å­—çš„ç´¢å¼•é–“éš”å¤šå°‘ã€‚
ç·šæ®µæ¨¹çš„å»ºç«‹å¦‚ä¸‹åœ–ï¼Œä»¥ç¯„ä¾‹ 2 ç‚ºä¾‹ï¼š
<div style="display: flex; gap: 10px; margin: 10px 0;">
  <img src="åœ–ç‰‡4.png" alt="åœ–ç‰‡4" style="width: 50%; border-radius: 4px; object-fit: contain;">
</div>æˆ‘å€‘ç¨±æ ¹ç¯€é» (root)ï¼Œå°±æ˜¯æœ€ä¸Šé¢é‚£å€‹ç¯€é»ï¼Œä»–çš„ç¯„åœæ˜¯ [1, n]ï¼Œé€™è£¡æ˜¯ [1, 4]ï¼Œä»–çš„æ•¸é‡å°±æ˜¯`å·¦å­ç¯€é» [1, 2] çš„æ•¸é‡ 2` + `å³å­ç¯€é» [3, 4] çš„æ•¸é‡ 2` = 4ï¼Œè‡ªå·±ä¸ç®— 1 å€‹æ•¸å­—å–”ï¼Œå› ç‚ºå®ƒåªæ˜¯å­˜ç¯„åœå…§æœ‰å¹¾å€‹æ•¸å­— (è‘‰ç¯€é»)ï¼Œæ¯ä¸€å€‹å…§éƒ¨ç¯€é» (æ’‡é™¤æ ¹ç¯€é»è·Ÿè‘‰ç¯€é»çš„ç¯€é») ä¹Ÿéƒ½æ˜¯å¦‚æ­¤è¨ˆç®—æ•¸é‡ã€‚
ç¶ è‰²çš„åœ°æ–¹ç¨±è‘‰ç¯€é» (leaf)ï¼Œå®ƒçš„ç‰¹é»æ˜¯ä¸‹é¢æ²’æœ‰ä»»ä½•ç¯€é»ï¼Œå®ƒçš„æ•¸é‡ä¸€å®šæ˜¯ 1ï¼Œå°±ä»–è‡ªå·±ä¸€å€‹æ•¸å­—ã€‚<br>
å»ºç«‹é€™å€‹ç·šæ®µæ¨¹çš„æ–¹å¼å°±æ˜¯ build å‡½å¼ï¼Œä¸»è¦å°±æ˜¯ç”¨éè¿´çš„æ–¹å¼å¾ä¸Šè€Œä¸‹å»ºç«‹ã€‚å¤§å®¶è¦æ³¨æ„å› ç‚ºæˆ‘æ˜¯æŠŠæ¨¹å»ºç«‹åœ¨é™£åˆ—ä¸Šï¼Œæ‰€ä»¥æˆ‘ 2 * node ä»£è¡¨æ˜¯å·¦å­ç¯€é» (å¯è‡ªè¡Œé©—ç®—)ã€2 * node + 1 ä»£è¡¨æ˜¯å³å­ç¯€é» (å¯è‡ªè¡Œé©—ç®—)ã€‚<br>
ä¸»ç¨‹å¼è¼¸å‡ºæ¯å€‹æ•¸å­—çš„æ™‚å€™ï¼Œéƒ½æœƒå»æ‰¾ç›®å‰ä½ç½® now èˆ‡ç›®æ¨™æ•¸å­— target çš„ä½ç½®ï¼ŒæŠŠä»–ç•¶ä½œä¸€å€‹å€é–“ [now, target] å‚³å…¥ move å‡½å¼ç•¶ [left, right]ï¼Œæ¥è‘—æˆ‘å€‘å°±çœ‹ [left, right] æ˜¯å¦æŠŠ æ¯å€‹ç¯€é»çš„ç¯„åœ [start, end] åŒ…ä½ï¼Œä¸æ˜¯çš„è©±ç¹¼çºŒåœ°å›åˆ°å®Œå…¨åŒ…ä½ï¼ŒåŒ…ä½å¾Œå°±å¯ä»¥å›å‚³æ•¸å€¼ï¼Œä»£è¡¨ [left, right] çš„æŸä¸€å€‹å­å€é–“å¾—åˆ°çš„æ•¸é‡ã€‚æœ€å¾Œå¾—åˆ°çš„æ•¸å­—åŠ åˆ° t å…§ï¼Œä»£è¡¨ pop ç¸½æ•¸ã€‚<br>
æ‰¾åˆ°ä¸€å€‹æ•¸å­—å¾Œï¼Œé‚£å€‹æ•¸å­—æ‰€åœ¨çš„ä½ç½®å°±è©²æ¸…ç©ºï¼Œç”¨ update å‡½å¼å¾ä¸Šè€Œä¸‹ï¼ŒæŠŠæœ‰é—œ target çš„æ‰€æœ‰ç¯€é»éƒ½æ¸›å°‘ 1ã€‚<br>
æœ€å¾Œè¼¸å‡ºçš„ t å°±æ˜¯ç­”æ¡ˆã€‚<br>
<è¨»è§£> é€™æ–¹æ³•æ¯” BIT æ…¢ï¼Œä½†æ˜¯åªéœ€è¦å…·å‚™çµåˆå¾‹çš„ç‰¹æ€§å°±å¯ä»¥ä½¿ç”¨ï¼Œå³ $(a \times b) \time c = a \times (b \times c)$ï¼Œæ‰€ä»¥é™¤äº†å€é–“åŠ æ³•ï¼Œç·šæ®µæ¨¹é‚„èƒ½è™•ç†å€é–“æœ€å¤§å€¼ (Max)ã€æœ€å°å€¼ (Min)ç­‰ç­‰å•é¡Œã€‚
</div>

<h3 id="ç¯„ä¾‹ç¨‹å¼ç¢¼-2"><a href="#ç¯„ä¾‹ç¨‹å¼ç¢¼-2" class="headerlink" title="ç¯„ä¾‹ç¨‹å¼ç¢¼"></a>ç¯„ä¾‹ç¨‹å¼ç¢¼</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> tree[<span class="number">100001</span>]=&#123;&#125;;</span><br><span class="line"><span class="type">int</span> p[<span class="number">100001</span>], pos[<span class="number">100001</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">build</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> start, <span class="type">int</span> end)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (start == end) &#123;  <span class="comment">// ä»£è¡¨åœ¨è‘‰ç¯€é» (æœ€å¾Œä¸€æ’ï¼Œåº•ä¸‹æ²’ç¯€é») </span></span><br><span class="line">		tree[node] = <span class="number">1</span>;  <span class="comment">// è‡ªå·±ä¸€å€‹æ•¸é‡å°±æ˜¯ 1 </span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">2</span> * node, start, mid);  <span class="comment">// node çš„å·¦å­ç¯€é» </span></span><br><span class="line">	<span class="built_in">build</span>(<span class="number">2</span> * node + <span class="number">1</span>, mid + <span class="number">1</span>, end);  <span class="comment">// node çš„å³å­ç¯€é»</span></span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é€™å€‹ç¯€é» node çš„æ•¸é‡å°±æ˜¯å·¦å³å­çš„åŠ ç¸½</span></span><br><span class="line">	<span class="comment">// è‡ªå·±ä¸ç®—ï¼Œå› ç‚ºè‡ªå·±çš„æ•¸å­—å­˜çš„æ˜¯ä»£è¡¨é€™å€é–“æœ‰å¤šå°‘å€‹è‘‰ç¯€é» </span></span><br><span class="line">	tree[node] = tree[<span class="number">2</span> * node] + tree[<span class="number">2</span> * node + <span class="number">1</span>]; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">move</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> start, <span class="type">int</span> end, <span class="type">int</span> left, <span class="type">int</span> right)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é€™ç¯€é» node ä»£è¡¨çš„ç¯„åœ [start, end] ä¸åœ¨ [left, right] å…§ </span></span><br><span class="line">	<span class="keyword">if</span> (right &lt; start || end &lt; left)  </span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é€™ç¯€é» node ä»£è¡¨çš„ç¯„åœ [start, end] åœ¨ [left, right] å…§ </span></span><br><span class="line">	<span class="keyword">if</span> (left &lt;= start &amp;&amp; end &lt;= right)</span><br><span class="line">		<span class="keyword">return</span> tree[node];</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// é€™ç¯€é» node ä»£è¡¨çš„ç¯„åœ [start, end] ä¸å®Œå…¨åœ¨ [left, right] å…§ </span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">move</span>(<span class="number">2</span> * node, start, mid, left, right) + <span class="built_in">move</span>(<span class="number">2</span> * node + <span class="number">1</span>, mid + <span class="number">1</span>, end, left, right);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">update</span><span class="params">(<span class="type">int</span> node, <span class="type">int</span> start, <span class="type">int</span> end, <span class="type">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="type">int</span> mid = (start + end) / <span class="number">2</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (start == end) &#123;  <span class="comment">// æ•¸å­—æ‹¿èµ°äº† </span></span><br><span class="line">		tree[node] = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="keyword">if</span> (target &lt;= mid)  <span class="comment">// è¦è¼¸å‡ºçš„æ•¸å­— &lt;= mid ä»£è¡¨åœ¨å·¦å­ç¯€é»ç¯„åœå…§ </span></span><br><span class="line">		<span class="built_in">update</span>(<span class="number">2</span> * node, start, mid, target);</span><br><span class="line">    <span class="keyword">else</span>  <span class="comment">// åä¹‹åœ¨å³å­ç¯€é»ç¯„åœå…§ </span></span><br><span class="line">		<span class="built_in">update</span>(<span class="number">2</span> * node + <span class="number">1</span>, mid + <span class="number">1</span>, end, target);</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// æŠŠæ›´æ–°å¾Œçš„çµæœæ›´æ–°åˆ°é€™å€‹ç¯€é»</span></span><br><span class="line">	<span class="comment">// é€™å€‹ç¯€é» node çš„æ•¸é‡å°±æ˜¯å·¦å³å­çš„åŠ ç¸½ </span></span><br><span class="line">    tree[node] = tree[<span class="number">2</span> * node] + tree[<span class="number">2</span> * node + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	ios::<span class="built_in">sync_with_stdio</span>(<span class="literal">false</span>);</span><br><span class="line">	cin.<span class="built_in">tie</span>(<span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="type">int</span> i, n, now, target;</span><br><span class="line">	<span class="type">long</span> <span class="type">long</span> <span class="type">int</span> t = <span class="number">0</span>; </span><br><span class="line">	<span class="type">int</span> left, right;</span><br><span class="line">	</span><br><span class="line">	cin &gt;&gt; n;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		cin &gt;&gt; p[i];</span><br><span class="line">		</span><br><span class="line">		pos[p[i]] = i;  <span class="comment">// å­˜æ¯å€‹æ•¸å­—çš„ç´¢å¼• </span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">build</span>(<span class="number">1</span>, <span class="number">1</span>, n);  <span class="comment">// å»ºç«‹ç·šæ®µæ¨¹</span></span><br><span class="line">	</span><br><span class="line">	now = <span class="number">1</span>;  <span class="comment">// ä¸€é–‹å§‹ä½ç½®è¨­åœ¨ 1</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span> (i=<span class="number">1</span>;i&lt;=n;i++) &#123;</span><br><span class="line">		target = pos[i];  <span class="comment">// æŸ¥è©¢ç¾åœ¨è¦è¼¸å‡ºçš„æ•¸å­—çš„ä½ç½®</span></span><br><span class="line">		</span><br><span class="line">		left = <span class="built_in">min</span>(now, target);  <span class="comment">// å°çš„ç•¶å·¦ç•Œ</span></span><br><span class="line">		right = <span class="built_in">max</span>(now, target);  <span class="comment">// å¤§çš„ç•¶å³ç•Œ </span></span><br><span class="line">		</span><br><span class="line">		t += <span class="built_in">move</span>(<span class="number">1</span>, <span class="number">1</span>, n, left, right);  <span class="comment">// ç®—é€™æ¬¡è¼¸å‡ºæ•¸å­—ç§»å‹•éœ€è¦çš„ pop æ•¸ </span></span><br><span class="line">	</span><br><span class="line">		<span class="built_in">update</span>(<span class="number">1</span>, <span class="number">1</span>, n, target);  <span class="comment">// æ›´æ–°å–èµ°è¦è¼¸å‡ºçš„æ•¸å­—å¾Œçš„ç·šæ®µæ¨¹ </span></span><br><span class="line">		</span><br><span class="line">		now = target;  <span class="comment">// ç§»å‹•ä½ç½® </span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; t;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é‹è¡Œçµæœ-2"><a href="#é‹è¡Œçµæœ-2" class="headerlink" title="é‹è¡Œçµæœ"></a>é‹è¡Œçµæœ</h3><p><font color="#00BB00"><strong>AC</strong></font> (20ms, 2.1MB)</p>
<div class="alert-block alert-danger"><strong>æŸ¥çœ‹æ›´å¤šè³‡è¨Šè«‹è‡³ï¼š</strong><a href="https://www.tseng-school.com/">https://www.tseng-school.com/</a> 
</div>
        </div>
        
<blockquote class="copyright">
    <p><strong>æœ¬æ–‡é€£çµ : </strong><a class="permalink" href="https://www.tseng-school.com/2026/02/15/apcs/apcs202511/">https://www.tseng-school.com/2026/02/15/apcs/apcs202511/</a></p>
    <p><strong> </strong></p>
</blockquote>


    </article>
    
    
        <section id="comments"></section> 
        <div id="gitalk-loader"></div> <script type="text/javascript">
  (function() {
    var container = document.getElementById('comments');
    if (!container) return;

    // å®šç¾©æ¸²æŸ“å‡½æ•¸
    function loadAndRenderGitalk() {
      if (window.GITALK_LOCK || container.querySelector('.gt-container')) return;
      window.GITALK_LOCK = true;

      // å‹•æ…‹è¼‰å…¥ CSS èˆ‡ JSï¼Œé¿å…é˜»å¡é¦–å±
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.css';
      document.head.appendChild(link);

      var script = document.createElement('script');
      script.src = "https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.min.js";
      var md5Script = document.createElement('script');
      md5Script.src = "https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js";

      script.onload = function() {
        var gitalk = new Gitalk({
            clientID: 'Ov23litX24icqsbLMK3L',
            clientSecret: 'd6303376afaebeacf533c935a4348a03ab352bbf',
            repo: 'blog-comment',
            owner: 'chingyen06',
            admin: ['chingyen06'],
            id: '1771135845000', 
            distractionFreeMode: true,
            proxy: 'https://purple-fire-8465.john1100729.workers.dev/'
        });
        gitalk.render('comments');
      };

      document.body.appendChild(md5Script);
      document.body.appendChild(script);
    }

    // ä½¿ç”¨ Intersection Observer å¯¦ç¾æ‡¶åŠ è¼‰
    if ('IntersectionObserver' in window) {
      var observer = new IntersectionObserver(function(entries) {
        if (entries[0].isIntersecting) {
          loadAndRenderGitalk();
          observer.disconnect(); // è§¸ç™¼å¾Œå°±åœæ­¢è§€å¯Ÿ
        }
      }, { rootMargin: '200px' }); // æå‰ 200px é–‹å§‹è¼‰å…¥ï¼Œæ¸›å°‘ä½¿ç”¨è€…ç­‰å¾…æ„Ÿ

      observer.observe(container);
    } else {
      // é™ç´šè™•ç†ï¼šä¸æ”¯æ´ Observer çš„èˆŠç€è¦½å™¨ç›´æ¥è¼‰å…¥
      loadAndRenderGitalk();
    }

    // é‡å° PJAX é é¢åˆ‡æ›çš„è™•ç†
    document.addEventListener('pjax:complete', function() {
        window.GITALK_LOCK = false;
        // å¦‚æœæ˜¯ PJAX åˆ‡æ›ï¼Œé€šå¸¸éœ€è¦é‡æ–°è§€å¯Ÿæ–°é é¢çš„å®¹å™¨
        if (typeof observer !== 'undefined') observer.observe(document.getElementById('comments'));
    });
  })();
</script> 
    

    

</main>


<aside style="" id="sidebar" class="aside aside-fixture">
    <div class="toc-sidebar">
        <nav id="toc" class="article-toc">
            <h3 class="toc-title">æ–‡ç« ç›®éŒ„</h3>
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%A1%8C-%E5%AD%97%E6%AF%8D%E9%85%8D%E5%B0%8D-ZeroJudge-r626"><span class="toc-number">1.</span> <span class="toc-text">ç¬¬ä¸€é¡Œ å­—æ¯é…å° (ZeroJudge r626.)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE"><span class="toc-number">1.1.</span> <span class="toc-text">é¡Œç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BC%B8%E5%85%A5-%E8%BC%B8%E5%87%BA%E8%AA%AA%E6%98%8E"><span class="toc-number">1.2.</span> <span class="toc-text">è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A1%8C%E6%80%9D%E8%B7%AF"><span class="toc-number">1.3.</span> <span class="toc-text">è§£é¡Œæ€è·¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%E7%A8%8B%E5%BC%8F%E7%A2%BC"><span class="toc-number">1.4.</span> <span class="toc-text">ç¯„ä¾‹ç¨‹å¼ç¢¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8B%E8%A1%8C%E7%B5%90%E6%9E%9C"><span class="toc-number">1.5.</span> <span class="toc-text">é‹è¡Œçµæœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%A1%8C-%E5%88%97%E5%8D%B0%E5%B7%A5%E5%BB%A0-ZeroJudge-r627"><span class="toc-number">2.</span> <span class="toc-text">ç¬¬äºŒé¡Œ åˆ—å°å·¥å»  (ZeroJudge r627.)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE-1"><span class="toc-number">2.1.</span> <span class="toc-text">é¡Œç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BC%B8%E5%85%A5-%E8%BC%B8%E5%87%BA%E8%AA%AA%E6%98%8E-1"><span class="toc-number">2.2.</span> <span class="toc-text">è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A1%8C%E6%80%9D%E8%B7%AF-1"><span class="toc-number">2.3.</span> <span class="toc-text">è§£é¡Œæ€è·¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%E7%A8%8B%E5%BC%8F%E7%A2%BC-1"><span class="toc-number">2.4.</span> <span class="toc-text">ç¯„ä¾‹ç¨‹å¼ç¢¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8B%E8%A1%8C%E7%B5%90%E6%9E%9C-1"><span class="toc-number">2.5.</span> <span class="toc-text">é‹è¡Œçµæœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%A1%8C-%E7%BF%BB%E4%BE%86%E8%A6%86%E5%8E%BB-ZeroJudge-r628"><span class="toc-number">3.</span> <span class="toc-text">ç¬¬ä¸‰é¡Œ ç¿»ä¾†è¦†å» (ZeroJudge r628.)</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%8C%E7%9B%AE-2"><span class="toc-number">3.1.</span> <span class="toc-text">é¡Œç›®</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BC%B8%E5%85%A5-%E8%BC%B8%E5%87%BA%E8%AA%AA%E6%98%8E-2"><span class="toc-number">3.2.</span> <span class="toc-text">è¼¸å…¥ &#x2F; è¼¸å‡ºèªªæ˜</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E9%A1%8C%E6%80%9D%E8%B7%AF-2"><span class="toc-number">3.3.</span> <span class="toc-text">è§£é¡Œæ€è·¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AF%84%E4%BE%8B%E7%A8%8B%E5%BC%8F%E7%A2%BC-2"><span class="toc-number">3.4.</span> <span class="toc-text">ç¯„ä¾‹ç¨‹å¼ç¢¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8B%E8%A1%8C%E7%B5%90%E6%9E%9C-2"><span class="toc-number">3.5.</span> <span class="toc-text">é‹è¡Œçµæœ</span></a></li></ol></li></ol>
        </nav>
    </div>
</aside>





            
            <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div style="
                display: flex; 
                justify-content: center; 
                align-items: center; 
                flex-wrap: wrap;
                width: 100%; 
                margin: 40px 0 20px 0;
                color: #666; 
                font-size: 0.85rem;
                clear: both;
            ">
              <span id="busuanzi_container_site_uv" style="display: flex; align-items: center;">
                <i class="iconfont icon-user" style="margin-right: 4px;"></i>
                è¨ªå®¢æ•¸ï¼š<span id="busuanzi_value_site_uv"></span> äºº
              </span>
              
              <span style="margin: 0 12px; color: #ddd;">|</span>
              
              <span id="busuanzi_container_site_pv" style="display: flex; align-items: center;">
                <i class="iconfont icon-eye" style="margin-right: 4px;"></i>
                ç¸½ç€è¦½ï¼š<span id="busuanzi_value_site_pv"></span> æ¬¡
              </span>
            </div>
            </section>
        
        <footer class="hidden lg:block fixed bottom-0 left-0 sm:w-1/12 lg:w-1/6 bg-gray-100 z-40">
    
    <div class="footer-social-links">
        
            <a target="_blank" rel="noopener" href="https://github.com/chingyen06">
                <i class="iconfont icon-github"></i>
            </a>
        
            <a target="_blank" rel="noopener" href="https://www.facebook.com/ceng.jing.yan">
                <i class="iconfont icon-facebook"></i>
            </a>
        
    </div>
    
    
</footer>


        <div id="mask" class="hidden mask fixed inset-0 bg-gray-900 opacity-75 z-40"></div>
        <div id="search-view-container" class="hidden shadow-xl"></div>
        
<script src="/js/dom-event.min.js"></script>



<script src="/js/local-search.min.js"></script>


    <div id="gitalk-loader"></div> <script type="text/javascript">
  (function() {
    var container = document.getElementById('comments');
    if (!container) return;

    // å®šç¾©æ¸²æŸ“å‡½æ•¸
    function loadAndRenderGitalk() {
      if (window.GITALK_LOCK || container.querySelector('.gt-container')) return;
      window.GITALK_LOCK = true;

      // å‹•æ…‹è¼‰å…¥ CSS èˆ‡ JSï¼Œé¿å…é˜»å¡é¦–å±
      var link = document.createElement('link');
      link.rel = 'stylesheet';
      link.href = 'https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.css';
      document.head.appendChild(link);

      var script = document.createElement('script');
      script.src = "https://cdn.jsdelivr.net/npm/gitalk@1.5.2/dist/gitalk.min.js";
      var md5Script = document.createElement('script');
      md5Script.src = "https://cdn.jsdelivr.net/npm/blueimp-md5@2.10.0/js/md5.min.js";

      script.onload = function() {
        var gitalk = new Gitalk({
            clientID: 'Ov23litX24icqsbLMK3L',
            clientSecret: 'd6303376afaebeacf533c935a4348a03ab352bbf',
            repo: 'blog-comment',
            owner: 'chingyen06',
            admin: ['chingyen06'],
            id: '1771135845000', 
            distractionFreeMode: true,
            proxy: 'https://purple-fire-8465.john1100729.workers.dev/'
        });
        gitalk.render('comments');
      };

      document.body.appendChild(md5Script);
      document.body.appendChild(script);
    }

    // ä½¿ç”¨ Intersection Observer å¯¦ç¾æ‡¶åŠ è¼‰
    if ('IntersectionObserver' in window) {
      var observer = new IntersectionObserver(function(entries) {
        if (entries[0].isIntersecting) {
          loadAndRenderGitalk();
          observer.disconnect(); // è§¸ç™¼å¾Œå°±åœæ­¢è§€å¯Ÿ
        }
      }, { rootMargin: '200px' }); // æå‰ 200px é–‹å§‹è¼‰å…¥ï¼Œæ¸›å°‘ä½¿ç”¨è€…ç­‰å¾…æ„Ÿ

      observer.observe(container);
    } else {
      // é™ç´šè™•ç†ï¼šä¸æ”¯æ´ Observer çš„èˆŠç€è¦½å™¨ç›´æ¥è¼‰å…¥
      loadAndRenderGitalk();
    }

    // é‡å° PJAX é é¢åˆ‡æ›çš„è™•ç†
    document.addEventListener('pjax:complete', function() {
        window.GITALK_LOCK = false;
        // å¦‚æœæ˜¯ PJAX åˆ‡æ›ï¼Œé€šå¸¸éœ€è¦é‡æ–°è§€å¯Ÿæ–°é é¢çš„å®¹å™¨
        if (typeof observer !== 'undefined') observer.observe(document.getElementById('comments'));
    });
  })();
</script>


    <script src="//cdn.jsdelivr.net/npm/lightgallery.js@1.1.3/dist/js/lightgallery.min.js"></script>
    
<script src="/js/light-gallery.min.js"></script>






    </body>
</html>